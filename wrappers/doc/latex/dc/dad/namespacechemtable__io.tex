\hypertarget{namespacechemtable__io}{
\section{chemtable\_\-io Namespace Reference}
\label{dc/dad/namespacechemtable__io}\index{chemtable\_\-io@{chemtable\_\-io}}
}


Executable Python script for chemtable generation, including calling findprogvar to determine the best progress variable.  


\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{namespacechemtable__io_a214567a7d60f61727b590c79db510a87}{
tuple {\bfseries fin1} = open('chemtable\_\-inputs')}
\label{dc/dad/namespacechemtable__io_a214567a7d60f61727b590c79db510a87}

\item 
\hypertarget{namespacechemtable__io_a8ca5e5bfec786b71c5ee3559dffe2752}{
list {\bfseries inputs} = \mbox{[}line.strip().split('$\backslash$t') for line in fin1\mbox{]}}
\label{dc/dad/namespacechemtable__io_a8ca5e5bfec786b71c5ee3559dffe2752}

\item 
\hypertarget{namespacechemtable__io_aebf013d138d62646abe4efe970a5f0d8}{
tuple {\bfseries datafiledir} = iof.read\_\-input(\char`\"{}data file directory:\char`\"{}, inputs, default=\mbox{[}'data'\mbox{]})}
\label{dc/dad/namespacechemtable__io_aebf013d138d62646abe4efe970a5f0d8}

\item 
\hypertarget{namespacechemtable__io_a9a54c24292e5f373096ead6dcc53b8e6}{
tuple {\bfseries datafiles} = glob.glob(\char`\"{}\char`\"{}.join(\mbox{[}\char`\"{}\char`\"{}.join(datafiledir), \char`\"{}/$\ast$.kg\char`\"{}\mbox{]}))}
\label{dc/dad/namespacechemtable__io_a9a54c24292e5f373096ead6dcc53b8e6}

\item 
\hypertarget{namespacechemtable__io_a8a3a48b139f89f140ff129a19095fb54}{
tuple {\bfseries testspecies} = iof.read\_\-input(\char`\"{}test species:\char`\"{}, inputs, minargs=0, default=\mbox{[}\char`\"{}Y-\/CO2\char`\"{},\char`\"{}Y-\/CO\char`\"{},\char`\"{}Y-\/H2O\char`\"{}\mbox{]})}
\label{dc/dad/namespacechemtable__io_a8a3a48b139f89f140ff129a19095fb54}

\item 
\hypertarget{namespacechemtable__io_a9225d452d2efd4ea64e851408eb0651e}{
dictionary {\bfseries options} = \{\}}
\label{dc/dad/namespacechemtable__io_a9225d452d2efd4ea64e851408eb0651e}

\item 
\hypertarget{namespacechemtable__io_af63e8f6f0192a989c612d87284afffa1}{
list {\bfseries bestC} = \mbox{[}$\,$\mbox{]}}
\label{dc/dad/namespacechemtable__io_af63e8f6f0192a989c612d87284afffa1}

\item 
\hypertarget{namespacechemtable__io_a3215db09f5c5375c0cf4217d1fc60018}{
tuple {\bfseries nofiles} = len(datafiles)}
\label{dc/dad/namespacechemtable__io_a3215db09f5c5375c0cf4217d1fc60018}

\item 
\hypertarget{namespacechemtable__io_ab4d4f8b2606406aee953c949c733ff23}{
tuple {\bfseries filesmatC} = fpv.findC(datafiles, testspecies, bestC, options)}
\label{dc/dad/namespacechemtable__io_ab4d4f8b2606406aee953c949c733ff23}

\item 
\hypertarget{namespacechemtable__io_a134a8ef10c96afb595621e53edc37a46}{
tuple {\bfseries sorter} = \hyperlink{classsorting_1_1BubbleSort}{sorting.BubbleSort}(filesmatC)}
\label{dc/dad/namespacechemtable__io_a134a8ef10c96afb595621e53edc37a46}

\item 
\hypertarget{namespacechemtable__io_ad6c61ec8edbd2fb268dea3beeccf73b3}{
tuple {\bfseries Z} = np.genfromtxt(datafiles\mbox{[}0\mbox{]}, unpack=False, skip\_\-header=2, delimiter = \char`\"{}$\backslash$t\char`\"{}, usecols = 0)}
\label{dc/dad/namespacechemtable__io_ad6c61ec8edbd2fb268dea3beeccf73b3}

\item 
\hypertarget{namespacechemtable__io_aa3a55a311e9923d278d9900a1e0375fb}{
{\bfseries Zmean} = Z}
\label{dc/dad/namespacechemtable__io_aa3a55a311e9923d278d9900a1e0375fb}

\item 
\hypertarget{namespacechemtable__io_ab1ad0cbbab901d493909ee312a088775}{
list {\bfseries Zpdf} = options\mbox{[}\char`\"{}Zpdf\char`\"{}\mbox{]}}
\label{dc/dad/namespacechemtable__io_ab1ad0cbbab901d493909ee312a088775}

\item 
\hypertarget{namespacechemtable__io_a57dc94c99e2353aa2176d3171b482007}{
list {\bfseries Zvar\_\-grid} = \mbox{[}1\mbox{]}}
\label{dc/dad/namespacechemtable__io_a57dc94c99e2353aa2176d3171b482007}

\item 
\hypertarget{namespacechemtable__io_a4a17b346df8f018f30b94d7b33e3ee04}{
list {\bfseries Zvar\_\-max} = \mbox{[}0\mbox{]}}
\label{dc/dad/namespacechemtable__io_a4a17b346df8f018f30b94d7b33e3ee04}

\item 
\hypertarget{namespacechemtable__io_ace8e791769d023de99174257cedfdb5f}{
tuple {\bfseries Zvar} = np.linspace(0, float(Zvar\_\-max\mbox{[}0\mbox{]}), int(Zvar\_\-grid\mbox{[}0\mbox{]}))}
\label{dc/dad/namespacechemtable__io_ace8e791769d023de99174257cedfdb5f}

\item 
\hypertarget{namespacechemtable__io_a56545484288b58088acf84b5275aeaaa}{
tuple {\bfseries d} = \hyperlink{classpdf_1_1DeltaPDF}{pdf.DeltaPDF}(Zmean)}
\label{dc/dad/namespacechemtable__io_a56545484288b58088acf84b5275aeaaa}

\item 
\hypertarget{namespacechemtable__io_ace5df4033fc35f3e8aed40f5f6ee89b0}{
tuple {\bfseries ZPoints} = len(Z)}
\label{dc/dad/namespacechemtable__io_ace5df4033fc35f3e8aed40f5f6ee89b0}

\item 
\hypertarget{namespacechemtable__io_a78a16806aac907a787c3fffcd3e13597}{
tuple {\bfseries ZvarPoints} = len(Zvar)}
\label{dc/dad/namespacechemtable__io_a78a16806aac907a787c3fffcd3e13597}

\item 
\hypertarget{namespacechemtable__io_ab3cfeac33d3218dcc4930f879e03c13c}{
tuple {\bfseries ZmeanPoints} = len(Zmean)}
\label{dc/dad/namespacechemtable__io_ab3cfeac33d3218dcc4930f879e03c13c}

\item 
\hypertarget{namespacechemtable__io_ae2ba489f5e7a51ab83f6e4c9a8525d0a}{
tuple {\bfseries pdfValM} = \hyperlink{classmatrix3d_1_1Matrix3D}{matrix3d.Matrix3D}(ZvarPoints, ZmeanPoints, ZPoints)}
\label{dc/dad/namespacechemtable__io_ae2ba489f5e7a51ab83f6e4c9a8525d0a}

\item 
\hypertarget{namespacechemtable__io_a8a896397eb470a39119083c8e49fb164}{
tuple {\bfseries pdfValReturn} = d.pdfVal(Z, pdfValM)}
\label{dc/dad/namespacechemtable__io_a8a896397eb470a39119083c8e49fb164}

\item 
\hypertarget{namespacechemtable__io_aeb71c57d6d074ae0d184320d30db5725}{
tuple {\bfseries dataobj} = iof.ProcFile(datafiles\mbox{[}0\mbox{]})}
\label{dc/dad/namespacechemtable__io_aeb71c57d6d074ae0d184320d30db5725}

\item 
\hypertarget{namespacechemtable__io_af7f8849bcbb13db397d5ce46c978d529}{
tuple {\bfseries titles} = dataobj.gettitles()}
\label{dc/dad/namespacechemtable__io_af7f8849bcbb13db397d5ce46c978d529}

\item 
\hypertarget{namespacechemtable__io_afec0d7a789e8729bee99990ada6c8e28}{
tuple {\bfseries rxn\_\-rate\_\-locs} = range(len(bestC\mbox{[}0\mbox{]}))}
\label{dc/dad/namespacechemtable__io_afec0d7a789e8729bee99990ada6c8e28}

\item 
\hypertarget{namespacechemtable__io_ab30790126193db5e0889e9c620ddaf47}{
int {\bfseries locflag} = 0}
\label{dc/dad/namespacechemtable__io_ab30790126193db5e0889e9c620ddaf47}

\item 
\hypertarget{namespacechemtable__io_ae2fe2eb46ed6687f408b68e6eba4dc42}{
tuple {\bfseries species} = list(bestC\mbox{[}1\mbox{]}\mbox{[}ii\mbox{]})}
\label{dc/dad/namespacechemtable__io_ae2fe2eb46ed6687f408b68e6eba4dc42}

\item 
\hypertarget{namespacechemtable__io_aab8b364a0614af5494b8e2d056eed851}{
list {\bfseries speciesprodrate} = species\mbox{[}2:\mbox{]}}
\label{dc/dad/namespacechemtable__io_aab8b364a0614af5494b8e2d056eed851}

\item 
\hypertarget{namespacechemtable__io_a5260348aee3d26a355c5a06e04490029}{
list {\bfseries integ} = options\mbox{[}\char`\"{}Integrator\char`\"{}\mbox{]}}
\label{dc/dad/namespacechemtable__io_a5260348aee3d26a355c5a06e04490029}

\item 
\hypertarget{namespacechemtable__io_a76530767a345cd2f4e75e025caa17a1d}{
tuple {\bfseries Intgr} = \hyperlink{classintegrator_1_1Trapz}{integrator.Trapz}()}
\label{dc/dad/namespacechemtable__io_a76530767a345cd2f4e75e025caa17a1d}

\item 
\hypertarget{namespacechemtable__io_a20004bc7ee51aa97410e2fc1e5c5b63d}{
tuple {\bfseries NumberNodes} = iof.read\_\-input(\char`\"{}glq Number of Nodes:\char`\"{}, inputs, minargs=0, default=\mbox{[}50\mbox{]})}
\label{dc/dad/namespacechemtable__io_a20004bc7ee51aa97410e2fc1e5c5b63d}

\item 
\hypertarget{namespacechemtable__io_a31b3f64ef13f79527c755e739e885180}{
list {\bfseries convolutedC} = \mbox{[}0\mbox{]}}
\label{dc/dad/namespacechemtable__io_a31b3f64ef13f79527c755e739e885180}

\item 
\hypertarget{namespacechemtable__io_a53a99e5fa8820bd0773297db7439676b}{
list {\bfseries convolutedST} = \mbox{[}0\mbox{]}}
\label{dc/dad/namespacechemtable__io_a53a99e5fa8820bd0773297db7439676b}

\item 
\hypertarget{namespacechemtable__io_a645cd8efb888bfb4dbe872f6c047ee6d}{
int {\bfseries maxC} = 0}
\label{dc/dad/namespacechemtable__io_a645cd8efb888bfb4dbe872f6c047ee6d}

\item 
\hypertarget{namespacechemtable__io_ab840bd591060c54471e90a07a84837d1}{
int {\bfseries maxRate} = 0}
\label{dc/dad/namespacechemtable__io_ab840bd591060c54471e90a07a84837d1}

\item 
\hypertarget{namespacechemtable__io_ad1acbc31dd4224d8effffbc960625b2e}{
list {\bfseries file} = datafiles\mbox{[}int(filesmatC.GetVal(kk,1))\mbox{]}}
\label{dc/dad/namespacechemtable__io_ad1acbc31dd4224d8effffbc960625b2e}

\item 
\hypertarget{namespacechemtable__io_a1b6f65d372114ed7b5dae759fd83bc8b}{
tuple {\bfseries massfracs} = np.genfromtxt(file, unpack=False, skip\_\-header=2, delimiter = \char`\"{}$\backslash$t\char`\"{}, usecols = bestC\mbox{[}0\mbox{]})}
\label{dc/dad/namespacechemtable__io_a1b6f65d372114ed7b5dae759fd83bc8b}

\item 
\hypertarget{namespacechemtable__io_ac78dad13332ec190a05700765ceb3edc}{
tuple {\bfseries rxnrates} = np.genfromtxt(file, unpack=False, skip\_\-header=2, delimiter = \char`\"{}$\backslash$t\char`\"{}, usecols = rxn\_\-rate\_\-locs)}
\label{dc/dad/namespacechemtable__io_ac78dad13332ec190a05700765ceb3edc}

\item 
\hypertarget{namespacechemtable__io_af6294709dcccd57cf6d344de89378502}{
tuple {\bfseries progvar} = np.zeros(ZPoints)}
\label{dc/dad/namespacechemtable__io_af6294709dcccd57cf6d344de89378502}

\item 
\hypertarget{namespacechemtable__io_a86792a3eebb523ca4095a8932b9a9884}{
tuple {\bfseries rxnRates} = np.zeros(ZPoints)}
\label{dc/dad/namespacechemtable__io_a86792a3eebb523ca4095a8932b9a9884}

\item 
\hypertarget{namespacechemtable__io_a33373bd9c2c3eefc6d2cd88361c4feb6}{
tuple {\bfseries ConvReturn} = convolute.convVal\_\-func(Z, progvar, pdfValM, convolutedC\mbox{[}kk\mbox{]}, Intgr)}
\label{dc/dad/namespacechemtable__io_a33373bd9c2c3eefc6d2cd88361c4feb6}

\item 
\hypertarget{namespacechemtable__io_a7d5961afe8950c6223dea059063fefa2}{
int {\bfseries dim1} = 2}
\label{dc/dad/namespacechemtable__io_a7d5961afe8950c6223dea059063fefa2}

\item 
\hypertarget{namespacechemtable__io_a16ed306684d7fb0ef235255e12d27ea5}{
{\bfseries dim2} = ZmeanPoints}
\label{dc/dad/namespacechemtable__io_a16ed306684d7fb0ef235255e12d27ea5}

\item 
\hypertarget{namespacechemtable__io_a6d0fa1ea6c7ebb019dfdfd50a32efa05}{
{\bfseries dim3} = ZvarPoints}
\label{dc/dad/namespacechemtable__io_a6d0fa1ea6c7ebb019dfdfd50a32efa05}

\item 
\hypertarget{namespacechemtable__io_ac103d54d60e2e09633aba1d821e286f2}{
{\bfseries dim4} = nofiles}
\label{dc/dad/namespacechemtable__io_ac103d54d60e2e09633aba1d821e286f2}

\item 
\hypertarget{namespacechemtable__io_a3be3b3afee8f4630816646148e390b63}{
tuple {\bfseries lcgrid} = int(options\mbox{[}\char`\"{}LCgrid\char`\"{}\mbox{]}\mbox{[}0\mbox{]})}
\label{dc/dad/namespacechemtable__io_a3be3b3afee8f4630816646148e390b63}

\item 
\hypertarget{namespacechemtable__io_acd8bbce626a77c6df2499d3e25ba5214}{
tuple {\bfseries cgrid} = np.linspace(0.0, maxC$\ast$1.5, lcgrid)}
\label{dc/dad/namespacechemtable__io_acd8bbce626a77c6df2499d3e25ba5214}

\item 
\hypertarget{namespacechemtable__io_a1ab9c84e5b10a56c4343631f0e21390e}{
list {\bfseries interpmethod} = options\mbox{[}\char`\"{}InterpMethod\char`\"{}\mbox{]}}
\label{dc/dad/namespacechemtable__io_a1ab9c84e5b10a56c4343631f0e21390e}

\item 
\hypertarget{namespacechemtable__io_a1399674360497d138020818cd35cde4c}{
tuple {\bfseries interp} = \hyperlink{classinterpolator_1_1LinInterp}{interpolator.LinInterp}()}
\label{dc/dad/namespacechemtable__io_a1399674360497d138020818cd35cde4c}

\item 
\hypertarget{namespacechemtable__io_a817a4fe131477602184c4fb1904dd334}{
tuple {\bfseries datain} = \hyperlink{classmatrix4d_1_1Matrix4D}{matrix4d.Matrix4D}(dim1, dim2, dim3, dim4)}
\label{dc/dad/namespacechemtable__io_a817a4fe131477602184c4fb1904dd334}

\item 
\hypertarget{namespacechemtable__io_a410b4e5118e2e772174026e9aef79c9e}{
tuple {\bfseries dataout} = \hyperlink{classmatrix3d_1_1Matrix3D}{matrix3d.Matrix3D}(dim2, dim3, lcgrid)}
\label{dc/dad/namespacechemtable__io_a410b4e5118e2e772174026e9aef79c9e}

\item 
\hypertarget{namespacechemtable__io_ad4360a854a9d14cc2bb0053bcfea8d8b}{
int {\bfseries extrap} = 1}
\label{dc/dad/namespacechemtable__io_ad4360a854a9d14cc2bb0053bcfea8d8b}

\item 
\hypertarget{namespacechemtable__io_aebb2536447762fe0d750ce9dce0320fb}{
tuple {\bfseries f2gflag} = fittogrid.fittogrid\_\-func(datain, cgrid, interp, dataout, int(options\mbox{[}\char`\"{}nothreads\char`\"{}\mbox{]}\mbox{[}0\mbox{]}), extrap)}
\label{dc/dad/namespacechemtable__io_aebb2536447762fe0d750ce9dce0320fb}

\item 
\hypertarget{namespacechemtable__io_a02dc114f1a179390eef0fe4af078d69a}{
tuple {\bfseries FinalData} = np.zeros((lcgrid, dim2, dim3))}
\label{dc/dad/namespacechemtable__io_a02dc114f1a179390eef0fe4af078d69a}

\item 
\hypertarget{namespacechemtable__io_a27d4f591166067031bd4b1e6b2fc75a8}{
tuple {\bfseries f} = open(\char`\"{}\char`\"{}.join(\mbox{[}\char`\"{}output/\char`\"{},options\mbox{[}\char`\"{}OutputFile\char`\"{}\mbox{]}\mbox{[}0\mbox{]}\mbox{]}),'w')}
\label{dc/dad/namespacechemtable__io_a27d4f591166067031bd4b1e6b2fc75a8}

\item 
\hypertarget{namespacechemtable__io_abdc8c4c92f2b49066d5985de88b16401}{
int {\bfseries noplots} = 10}
\label{dc/dad/namespacechemtable__io_abdc8c4c92f2b49066d5985de88b16401}

\item 
\hypertarget{namespacechemtable__io_a58c8972afa870559ea0911a5345d1aaf}{
tuple {\bfseries plots} = range(noplots)}
\label{dc/dad/namespacechemtable__io_a58c8972afa870559ea0911a5345d1aaf}

\item 
\hypertarget{namespacechemtable__io_a8a26635410eccb46e2d8bbece82c32e4}{
tuple {\bfseries i} = int((j+1)$\ast$ZvarPoints/(noplots+2))}
\label{dc/dad/namespacechemtable__io_a8a26635410eccb46e2d8bbece82c32e4}

\item 
\hypertarget{namespacechemtable__io_ae59c0bcc8fc88059fb5f524c7acb3f91}{
tuple {\bfseries levels} = np.linspace(-\/1, maxRate, 50)}
\label{dc/dad/namespacechemtable__io_ae59c0bcc8fc88059fb5f524c7acb3f91}

\item 
\hypertarget{namespacechemtable__io_adecebbc128c05d6ff3ea00c70ba7920d}{
tuple {\bfseries CS} = plt.contourf(X, Y, FinalData\mbox{[}:,:,i\mbox{]}, levels)}
\label{dc/dad/namespacechemtable__io_adecebbc128c05d6ff3ea00c70ba7920d}

\item 
\hypertarget{namespacechemtable__io_a2608ae90b335459dc5b2f5ca4d619929}{
tuple {\bfseries grid} = pow(10,np.floor(np.log10(maxRate))-\/1)}
\label{dc/dad/namespacechemtable__io_a2608ae90b335459dc5b2f5ca4d619929}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Executable Python script for chemtable generation, including calling findprogvar to determine the best progress variable. Inputs:
\begin{DoxyItemize}
\item chemtable\_\-inputs: text file containing user options. Each option is written on it's own line, and if multiple values are required they should be seperated by tabs. Details of the chemtable\_\-inputs file and it's required contents can be found in the README.
\item .kg (FlameMaster output) data files: in a directory specified by the user in chemtable\_\-inputs. All files must be unique.
\end{DoxyItemize}

Outputs:
\begin{DoxyItemize}
\item /output/textfile (name specified by user in chemtable\_\-inputs): 4 columns of data, representing Cmean, Zmean, Zvar, and the Chemical Source Term
\item /output/contour\_\-zvar\_\-XXX.pdf $\ast$10: 10 contour plots of chemical source term vs. Zmean and Cmean at the values of Zvar specified in the filenames. If the user specifies taht less than 10 values of Zvar should be calculated, then that number of contour plots is generates
\item /output/CvsTemp.pdf: plot of the best progress variable (and others if the user desries) vs. Temperature
\end{DoxyItemize}

Note: this Python script relies on C++ functions connected through SWIG, which must generate the following modules:
\begin{DoxyItemize}
\item matrix, matrix3D, matrix4D
\item pdf
\item integrator
\item convolute
\item sorting
\item interpolator
\item fittogrid 
\end{DoxyItemize}